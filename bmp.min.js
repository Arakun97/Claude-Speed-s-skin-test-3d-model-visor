var BmpReader=function(){var r={decode:function(r){var t=new DataView(r.buffer),n={};if("BM"!==String.fromCharCode(t.getUint8(0))+String.fromCharCode(t.getUint8(1)))throw new Error("Invalid BMP file");n.dataOffset=t.getUint32(10,true),n.width=t.getInt32(18,true),n.height=t.getInt32(22,true);var e=t.getUint16(28,true);if(24!==e)throw new Error("Only 24-bit BMP files are supported");for(var a=4*(n.width*3%4?4-n.width*3%4:0),o=n.width*n.height*4,i=new Uint8Array(o),f=54,l=0,u=n.height-1;u>=0;u--){for(var h=0;h<n.width;h++){var g=f+3*h,c=4*(u*n.width+h);i[c]=t.getUint8(g+2),i[c+1]=t.getUint8(g+1),i[c+2]=t.getUint8(g),i[c+3]=255}f+=3*n.width+a,l++}return{data:i,width:n.width,height:n.height}}};return r}();
